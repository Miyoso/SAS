<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAS MAINFRAME // SYSTEM</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700;800&family=Libre+Barcode+128+Text&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style-mo.css">
    <style>
        /* Styles de base pour le Dashboard (Surcharges mineures pour la mise en page) */
        body {
            background-color: #020406;
            overflow-x: hidden;
        }

        /* HUD & Background Elements (Identique √† database.html) */
        .tactical-grid {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-image:
                    linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                    linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            z-index: -10;
            pointer-events: none;
            mask-image: radial-gradient(circle at center, black 40%, transparent 90%);
        }

        .vignette {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 50% 50%, transparent 50%, #000 100%);
            z-index: -5; pointer-events: none;
        }

        .radar-scan {
            position: fixed; top: 0; left: 0; width: 100%; height: 5px;
            background: rgba(0, 255, 157, 0.3);
            box-shadow: 0 0 15px rgba(0, 255, 157, 0.5);
            animation: scanScreen 8s linear infinite;
            z-index: -4; opacity: 0.3; pointer-events: none;
        }
        @keyframes scanScreen { 0% {top: -10%;} 100% {top: 110%;} }

        /* HUD Lat√©ral */
        .hud-side {
            position: fixed; top: 100px; bottom: 50px; width: 60px;
            display: flex; flex-direction: column; justify-content: space-between; align-items: center;
            z-index: 0; pointer-events: none;
            color: #334455; font-size: 0.6rem; letter-spacing: 1px;
            border-left: 1px dashed rgba(255,255,255,0.05);
            border-right: 1px dashed rgba(255,255,255,0.05);
        }
        .hud-left { left: 20px; border-left: none; }
        .hud-right { right: 20px; border-right: none; }

        .hud-marker {
            writing-mode: vertical-rl; text-orientation: mixed;
            transform: rotate(180deg);
            opacity: 0.6;
        }
        .hud-ruler {
            height: 100px; width: 4px;
            background: repeating-linear-gradient(to bottom, #334455 0, #334455 1px, transparent 2px, transparent 10px);
        }

        /* Mise en page des modules */
        .view-section {
            display: flex; flex: 1; overflow: hidden;
            transition: opacity 0.5s ease;
            position: relative;
        }
        .hidden { display: none !important; }

        .modules-section {
            flex: 3; padding: 30px; overflow-y: auto;
            border-right: 1px solid rgba(255,255,255,0.05);
            /* Petit d√©grad√© en bas pour l'effet de fondu */
            mask-image: linear-gradient(to bottom, black 90%, transparent 100%);
        }
        .modules-section::-webkit-scrollbar { width: 6px; }
        .modules-section::-webkit-scrollbar-thumb { background: var(--dim); border-radius: 3px; }

        .category-title {
            color: var(--secondary); font-size: 0.8rem; margin-top: 25px; margin-bottom: 20px;
            display: flex; align-items: center; letter-spacing: 3px; font-weight: bold;
            text-shadow: 0 0 5px rgba(0, 243, 255, 0.3);
        }
        .category-title::before { content: '>'; margin-right: 10px; color: var(--danger); }
        .category-title::after { content: ''; flex: 1; height: 1px; background: linear-gradient(90deg, var(--dim), transparent); margin-left: 15px; opacity: 0.5; }

        .grid-modules {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 25px;
        }

        /* Cartes Modules (Style Tactique Standard) */
        .module-card {
            background: rgba(10, 14, 18, 0.7); /* Fond sombre transparent */
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 20px;
            position: relative; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            text-decoration: none;
            display: flex; flex-direction: column; justify-content: space-between; min-height: 140px;
            clip-path: polygon(0 0, 100% 0, 100% calc(100% - 15px), calc(100% - 15px) 100%, 0 100%);
            backdrop-filter: blur(5px);
        }
        .module-card:hover {
            transform: translateY(-5px) scale(1.02);
            background: rgba(20, 25, 30, 0.9);
            border-color: var(--primary); /* Bordure verte au survol */
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            z-index: 10;
        }

        /* Barres de statut color√©es */
        .status-online { border-top: 2px solid var(--primary); }
        .status-restricted { border-top: 2px solid var(--warning); }
        .status-danger { border-top: 2px solid var(--danger); }

        .module-icon { font-size: 2rem; margin-bottom: 15px; color: #667788; transition: 0.3s; }
        .module-card:hover .module-icon { color: #fff; text-shadow: 0 0 10px currentColor; }

        .module-name { font-family: var(--font-code); font-weight: 800; color: #fff; font-size: 1.1rem; letter-spacing: 1px; }
        .module-status { font-size: 0.65rem; color: #667788; margin-top: 8px; letter-spacing: 1px; text-transform: uppercase; display: flex; align-items: center; gap: 6px; }

        /* Sidebar (Guest/Logged) */
        .sidebar-section {
            flex: 1; padding: 0; background: rgba(0,0,0,0.2);
            display: flex; flex-direction: column;
            border-left: 1px solid rgba(255,255,255,0.1);
            min-width: 300px;
        }
        .mini-profile {
            padding: 30px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            background: linear-gradient(180deg, rgba(255,255,255,0.03) 0%, transparent 100%);
            display: flex; align-items: center; gap: 20px;
        }
        .mini-avatar {
            width: 60px; height: 60px; border: 2px solid rgba(255,255,255,0.2);
            display: flex; align-items: center; justify-content: center; font-size: 1.8rem;
            background: #000; box-shadow: 0 0 15px rgba(0,0,0,0.5);
            position: relative;
        }
        .mini-details { flex: 1; }
        .mini-name { color: #fff; font-weight: 800; font-family: var(--font-code); font-size: 1.1rem; letter-spacing: 1px; }
        .mini-rank { color: var(--secondary); font-size: 0.75rem; letter-spacing: 2px; margin-top: 2px; }

        .btn-profile-access {
            background: transparent; border: 1px solid var(--dim); color: var(--dim);
            padding: 6px 12px; font-size: 0.65rem; cursor: pointer; font-family: var(--font-ui);
            transition: 0.2s; text-decoration: none; display: inline-block; margin-top: 10px;
            text-transform: uppercase; letter-spacing: 1px;
        }
        .btn-profile-access:hover { border-color: var(--primary); color: var(--primary); background: rgba(0, 255, 157, 0.05); }

        .sidebar-header {
            padding: 15px 20px; border-bottom: 1px solid rgba(255,255,255,0.05);
            background: rgba(0,0,0,0.3);
            font-weight: bold; color: #8899aa; letter-spacing: 2px; font-size: 0.7rem;
            display: flex; align-items: center; gap: 10px;
        }
        .sidebar-header::before { content: ''; width: 6px; height: 6px; background: currentColor; }

        .log-container { padding: 20px; font-family: var(--font-code); font-size: 0.75rem; overflow-y: auto; flex:1; }
        .log-entry {
            margin-bottom: 8px; padding-left: 12px; border-left: 2px solid rgba(255,255,255,0.1);
            color: #667788; transition: 0.2s;
        }
        .log-entry:hover { border-left-color: var(--secondary); color: #ccc; padding-left: 18px; background: linear-gradient(90deg, rgba(255,255,255,0.02), transparent); }

        /* Terminal Console Overlay */
        .terminal-console {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 40vh;
            background: rgba(5, 8, 10, 0.95);
            border-top: 2px solid var(--primary);
            display: flex; flex-direction: column; z-index: 2000;
            transform: translateY(100%); transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
            backdrop-filter: blur(10px);
        }
        .terminal-console.open { transform: translateY(0); }
        .terminal-history {
            flex: 1; overflow-y: auto; padding: 20px 40px;
            font-family: var(--font-code); font-size: 0.9rem; color: #aaa;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .terminal-input-area {
            display: flex; align-items: center; gap: 15px; padding: 20px 40px;
            background: rgba(0,0,0,0.3);
        }
        .prompt { color: var(--primary); font-weight: bold; font-family: var(--font-code); text-shadow: 0 0 5px var(--primary); }
        .cmd-input { background: transparent; border: none; outline: none; color: #fff; font-family: var(--font-code); font-size: 1rem; width: 100%; caret-color: var(--primary); }

        .term-hint {
            position: fixed; bottom: 10px; right: 20px; font-size: 0.7rem;
            color: var(--dim); z-index: 100; opacity: 0.5; letter-spacing: 1px;
            font-family: var(--font-code);
        }

        .btn-connect {
            background: rgba(0, 255, 157, 0.05);
            border: 1px solid var(--primary);
            color: var(--primary);
            font-family: 'Share Tech Mono', monospace;
            padding: 5px 15px;
            cursor: pointer;
            margin-top: 5px;
            font-size: 0.75rem;
            letter-spacing: 1px;
            transition: all 0.2s ease;
            text-transform: uppercase;
            box-shadow: 0 0 5px rgba(0, 255, 157, 0.1);
        }
        .btn-connect:hover {
            background: var(--primary);
            color: #000;
            box-shadow: 0 0 15px var(--primary);
            font-weight: bold;
        }
    </style>
</head>

<body>
<div class="tactical-grid"></div>
<div class="vignette"></div>
<div class="radar-scan"></div>

<div class="hud-side hud-left">
    <div class="hud-ruler"></div>
    <div class="hud-marker">SYSTEM.ROOT</div>
    <div class="hud-ruler"></div>
</div>
<div class="hud-side hud-right">
    <div class="hud-ruler"></div>
    <div class="hud-marker">SECURE.CONN</div>
    <div class="hud-ruler"></div>
</div>

<div class="term-hint">PRESS [ F9 ] TO TOGGLE TERMINAL</div>

<div class="terminal-wrapper">
    <div class="terminal">
        <div class="header-strip">
            <div>
                <h1>SAS <span style="text-shadow: 0 0 10px var(--danger);">MAINFRAME</span></h1>
                <div style="font-size: 0.8rem; color: #667788; letter-spacing: 2px; margin-top: 5px;">SECURE ACCESS SYSTEM // RESTRICTED AREA</div>
            </div>
            <div class="meta-data">
                <span id="conn-status" style="color:var(--primary)">CONNECTED</span> // PING: 12ms<br>
                SYS.VER.4.0.2 // <span class="blink">MONITORING</span><br>

                <button class="btn-connect" onclick="toggleTerminal()">> CONNEXION TERMINAL</button>
            </div>
        </div>
        <div id="dashboard-view" class="view-section dashboard-container">
            <div class="modules-section">

                <div class="category-title">ACCR√âDITATION NIVEAU 1 [G√âN√âRAL]</div>
                <div class="grid-modules">
                    <div class="module-card status-online" style="cursor: pointer;" onclick="accessModule('database.html', 1)">
                        <div class="module-icon">üë•</div>
                        <div>
                            <div class="module-name">BASE AGENTS</div>
                            <div class="module-status"><span style="color:var(--primary)">‚óè</span> SYSTEM ONLINE</div>
                        </div>
                    </div>
                    <div class="module-card status-online" style="cursor: pointer;" onclick="accessModule('reglement.html', 1)">
                        <div class="module-icon">üìú</div>
                        <div>
                            <div class="module-name">R√àGLEMENT</div>
                            <div class="module-status"><span style="color:var(--primary)">‚óè</span> READ ONLY</div>
                        </div>
                    </div>
                    <div class="module-card status-online" style="cursor: pointer;" onclick="accessModule('map.html', 1)">
                        <div class="module-icon">üó∫Ô∏è</div>
                        <div>
                            <div class="module-name">CARTOGRAPHIE</div>
                            <div class="module-status"><span style="color:var(--primary)">‚óè</span> LIVE FEED</div>
                        </div>
                    </div>
                    <div class="module-card status-online" style="cursor: pointer;" onclick="accessModule('report.html', 1)">
                        <div class="module-icon">üìù</div>
                        <div>
                            <div class="module-name">G√âN√âRATEUR RAPPORT</div>
                            <div class="module-status"><span style="color:var(--primary)">‚óè</span> AUTO-GEN</div>
                        </div>
                    </div>
                    <div class="module-card status-online" style="cursor: pointer;" onclick="accessModule('arcade.html', 1)">
                        <div class="module-icon">üéÆ</div>
                        <div>
                            <div class="module-name">SIMULATION</div>
                            <div class="module-status"><span style="color:var(--primary)">‚óè</span> REFLEX TEST</div>
                        </div>
                    </div>
                </div>

                <div class="category-title">ACCR√âDITATION NIVEAU 2 [CONFIDENTIEL]</div>
                <div class="grid-modules">
                    <a href="/investigation.html" class="module-card status-restricted">
                        <div class="module-icon">üîç</div>
                        <div>
                            <div class="module-name">INVESTIGATION</div>
                            <div class="module-status"><span style="color:var(--warning)">‚óè</span> RESTRICTED ACCESS</div>
                        </div>
                    </a>
                    <a href="#" class="module-card status-danger">
                        <div class="module-icon">üéØ</div>
                        <div>
                            <div class="module-name">VIP TARGETS</div>
                            <div class="module-status"><span style="color:var(--danger)">‚óè</span> HIGH PRIORITY</div>
                        </div>
                    </a>
                    <div class="module-card status-online" style="cursor: pointer;" onclick="accessModule('logistics.html', 1)">
                        <div class="module-icon">üìù</div>
                        <div>
                            <div class="module-name">LOGISTIQUE</div>
                            <div class="module-status"><span style="color:var(--primary)">‚óè</span> STOCK </div>
                        </div>
                    </div>
                    <div class="module-card status-online" style="cursor: pointer;" onclick="accessModule('missions.html', 1)">
                        <div class="module-icon">üìù</div>
                        <div>
                            <div class="module-name">MISSIONS</div>
                            <div class="module-status"><span style="color:var(--primary)">‚óè</span> PLANNING </div>
                        </div>
                    </div>
                </div>

                <div class="category-title">ACCR√âDITATION NIVEAU 10 [√âTAT-MAJOR]</div>
                <div class="grid-modules">
                    <div class="module-card status-danger" style="cursor: pointer;" onclick="accessModule('admin.html', 10)">
                        <div class="module-icon">‚öñÔ∏è</div>
                        <div>
                            <div class="module-name">ADMINISTRATION</div>
                            <div class="module-status"><span style="color:var(--danger)">‚óè</span> CLASSIFIED</div>
                        </div>
                    </div>
                    <div class="module-card status-danger" style="cursor: pointer;" onclick="accessModule('medical.html', 3)">
                        <div class="module-icon">‚öïÔ∏è</div>
                        <div>
                            <div class="module-name">INFIRMERIE</div>
                            <div class="module-status"><span style="color:var(--danger)">‚óè</span> MEDICAL LOGS</div>
                        </div>
                    </div>
                </div>

            </div>
            <div id="sidebar-placeholder"></div>
        </div>
        <div id="profile-view" class="view-section hidden profile-view-container"></div>
    </div>
</div>

<div id="terminal-console" class="terminal-console">
    <div id="terminal-history" class="terminal-history">
        <div class="term-line term-info">SAS Mainframe [Version 4.0.2]</div>
        <div class="term-line term-info">(c) SAS 2025. All rights reserved.</div>
        <div class="term-line">System ready. Type '/help' for a list of commands.</div>
        <br>
    </div>
    <div class="terminal-input-area">
        <span class="prompt">root@sas-mainframe:~#</span>
        <input type="text" id="cmd-input" class="cmd-input" placeholder="Enter command..." autocomplete="off">
    </div>
</div>

<script src="js/script.js"></script>
<script>
    function accessModule(url, requiredLevel) {
        const currentLevel = parseInt(localStorage.getItem('userSecurityLevel') || 0);
        if (currentLevel >= requiredLevel) {
            window.location.href = url;
        } else {
            alert("‚õî ACC√àS REFUS√â : ACCR√âDITATION INSUFFISANTE");
        }
    }

    function toggleTerminal() {
        const term = document.getElementById('terminal-console');
        const input = document.getElementById('cmd-input');
        const history = document.getElementById('terminal-history');

        term.classList.toggle('open');

        if(term.classList.contains('open')) {
            setTimeout(() => input.focus(), 100);
            if(history) history.scrollTop = history.scrollHeight;
        }
    }
</script>
</body>
</html>