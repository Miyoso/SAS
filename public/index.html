<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAS MAINFRAME // SYSTEM</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/stylele.css">

    <style>
        .hidden { display: none !important; }

        .log-container {
            margin-top: 20px;
            padding: 10px;
            font-family: var(--font-data);
            font-size: 0.75rem;
            overflow-y: auto;
            flex: 1;
            border-top: 1px dashed rgba(255,255,255,0.15);
            max-height: 300px;
        }
        .log-entry {
            margin-bottom: 8px;
            padding-left: 8px;
            border-left: 2px solid rgba(255,255,255,0.1);
            color: #667788;
            transition: 0.2s;
        }
        .log-entry:hover {
            border-left-color: var(--cyan);
            color: #ccc;
        }

        .terminal-console {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 40vh;
            background: rgba(5, 5, 5, 0.98);
            border-top: 2px solid var(--cyan);
            display: flex; flex-direction: column; z-index: 2000;
            transform: translateY(100%);
            transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
            font-family: var(--font-data);
        }
        .terminal-console.open { transform: translateY(0); }
        .terminal-history { flex: 1; overflow-y: auto; padding: 20px; color: var(--text-main); }
        .terminal-input-area { display: flex; align-items: center; gap: 15px; padding: 15px 20px; background: rgba(255,255,255,0.05); }
        .cmd-input { background: transparent; border: none; outline: none; color: #fff; width: 100%; font-family: var(--font-data); }

        .btn-profile-access {
            background: transparent; border: 1px solid var(--cyan); color: var(--cyan);
            padding: 5px 10px; font-size: 0.7rem; cursor: pointer; font-family: var(--font-ui);
            margin-top: 10px; text-transform: uppercase; width: 100%;
            transition: 0.3s;
        }
        .btn-profile-access:hover { background: var(--cyan); color: #000; }
    </style>
</head>

<body>
<div class="bg-grid"></div>
<div class="scanlines"></div>
<div class="vignette"></div>

<div class="app-container">

    <header class="header">
        <div class="brand">
            <div class="logo-glitch">SAS // SYSTEM</div>
        </div>
        <div class="header-stats">
            <div id="conn-status"><span class="ping-dot"></span>CONNECTED</div>
            <div>PING: 14ms</div>
            <div style="cursor: pointer; color: var(--amber);" onclick="toggleTerminal()">[ TERMINAL ]</div>
        </div>
    </header>

    <main class="main-content">

        <div id="dashboard-view">

            <div class="section-title">ACCR√âDITATION NIVEAU 1 [G√âN√âRAL]</div>
            <div class="card-grid">
                <div class="nav-card border-cyan" style="cursor: pointer;" onclick="accessModule('database.html', 1)">
                    <div class="card-icon">üë•</div>
                    <div class="card-info">
                        <div class="card-title">BASE AGENTS</div>
                        <div class="card-status"><span class="status-light"></span> SYSTEM ONLINE</div>
                    </div>
                </div>

                <div class="nav-card border-cyan" style="cursor: pointer;" onclick="accessModule('reglement.html', 1)">
                    <div class="card-icon">üìú</div>
                    <div class="card-info">
                        <div class="card-title">R√àGLEMENT</div>
                        <div class="card-status"><span class="status-light"></span> READ ONLY</div>
                    </div>
                </div>

                <div class="nav-card border-cyan" style="cursor: pointer;" onclick="accessModule('map.html', 1)">
                    <div class="card-icon">üó∫Ô∏è</div>
                    <div class="card-info">
                        <div class="card-title">CARTOGRAPHIE</div>
                        <div class="card-status"><span class="status-light"></span> LIVE FEED</div>
                    </div>
                </div>

                <div class="nav-card border-cyan" style="cursor: pointer;" onclick="accessModule('report.html', 1)">
                    <div class="card-icon">üìù</div>
                    <div class="card-info">
                        <div class="card-title">RAPPORTS</div>
                        <div class="card-status"><span class="status-light"></span> AUTO-GEN</div>
                    </div>
                </div>
            </div>

            <div class="section-title">ACCR√âDITATION NIVEAU 2 [CONFIDENTIEL]</div>
            <div class="card-grid">
                <div class="nav-card border-amber" style="cursor: pointer;" onclick="accessModule('investigation.html', 2)">
                    <div class="card-icon">üîç</div>
                    <div class="card-info">
                        <div class="card-title">INVESTIGATION</div>
                        <div class="card-status"><span class="status-light" style="color:var(--amber)"></span> RESTRICTED</div>
                    </div>
                </div>

                <div class="nav-card border-amber" style="cursor: pointer;" onclick="accessModule('logistics.html', 1)">
                    <div class="card-icon">üì¶</div>
                    <div class="card-info">
                        <div class="card-title">LOGISTIQUE</div>
                        <div class="card-status"><span class="status-light"></span> STOCK MGMT</div>
                    </div>
                </div>
            </div>

            <div class="section-title">ACCR√âDITATION NIVEAU 10 [√âTAT-MAJOR]</div>
            <div class="card-grid">
                <div class="nav-card border-red" style="cursor: pointer;" onclick="accessModule('admin.html', 10)">
                    <div class="card-icon" style="color: var(--red);">‚öñÔ∏è</div>
                    <div class="card-info">
                        <div class="card-title">ADMINISTRATION</div>
                        <div class="card-status"><span class="status-light" style="color:var(--red)"></span> CLASSIFIED</div>
                    </div>
                </div>
            </div>

        </div>

        <div id="profile-view" class="hidden profile-view-container">
            <button class="back-button" onclick="window.location.reload()" style="background:transparent; border:1px solid red; color:red; padding:10px; margin-bottom:20px; cursor:pointer;">[ RETOUR ]</button>
            <h2 class="section-title">DOSSIER PERSONNEL</h2>
            <div id="full-profile-content">
            </div>
        </div>

    </main>

    <aside class="sidebar">

        <div class="profile-block mini-profile">
            <div class="avatar-frame mini-avatar" id="avatar-container">
                <img src="https://ui-avatars.com/api/?name=User&background=000&color=00F3FF" alt="Avatar">
            </div>

            <div class="profile-name mini-name" id="user-name">CHARGEMENT...</div>
            <div class="profile-clearance mini-rank" id="user-rank">NIVEAU: ...</div>

            <button class="btn-profile-access" onclick="showProfile()">ACC√àS DOSSIER >></button>
        </div>

        <div class="section-title" style="font-size: 0.9rem; margin-top: 0;">:: SYSLOGS</div>

        <div id="log-container" class="log-container">
            <div class="log-entry">[SYS] Initialisation connexion...</div>
            <div class="log-entry">[SEC] V√©rification biom√©trique OK</div>
            <div class="log-entry">[NET] Handshake √©tabli (14ms)</div>
        </div>

        <ul class="side-nav" style="margin-top: 20px;">
            <li><a href="#" class="logout" onclick="logoutFunction()">DECONNEXION</a></li>
        </ul>

    </aside>

</div>

<div id="terminal-console" class="terminal-console">
    <div id="terminal-history" class="terminal-history">
        <div style="color: var(--cyan)">SAS Mainframe [Version 4.0.2]</div>
        <br>
    </div>
    <div class="terminal-input-area">
        <span class="prompt">root@sas:~#</span>
        <input type="text" id="cmd-input" class="cmd-input" placeholder="Commande..." autocomplete="off">
    </div>
</div>

<script src="js/script.js"></script>
<script>
    function accessModule(url, requiredLevel) {
        const currentLevel = parseInt(localStorage.getItem('userSecurityLevel') || 0);
        if (currentLevel >= requiredLevel) {
            window.location.href = url;
        } else {
            alert("‚õî ACC√àS REFUS√â : ACCR√âDITATION INSUFFISANTE");
        }
    }

    function toggleTerminal() {
        const term = document.getElementById('terminal-console');
        const input = document.getElementById('cmd-input');
        term.classList.toggle('open');
        if(term.classList.contains('open')) setTimeout(() => input.focus(), 100);
    }

    function showProfile() {
        const dash = document.getElementById('dashboard-view');
        const prof = document.getElementById('profile-view');
        if(dash && prof) {
            dash.classList.add('hidden');
            prof.classList.remove('hidden');
        }
    }

    function logoutFunction() {
        alert("D√©connexion en cours...");
    }
</script>
</body>
</html>