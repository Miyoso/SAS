<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAS MAINFRAME // SYSTEM</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/stylele.css">

    <style>
        /* Ajustements pour le terminal d√©roulant qui n'√©tait pas dans le CSS fourni */
        .terminal-console {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 40vh;
            background: rgba(5, 5, 5, 0.98);
            border-top: 2px solid var(--cyan);
            display: flex; flex-direction: column; z-index: 2000;
            transform: translateY(100%);
            transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
            font-family: var(--font-data);
        }
        .terminal-console.open { transform: translateY(0); }

        .terminal-history {
            flex: 1; overflow-y: auto; padding: 20px;
            color: var(--text-main); font-size: 0.9rem;
        }
        .terminal-input-area {
            display: flex; align-items: center; gap: 15px; padding: 15px 20px;
            background: rgba(255,255,255,0.05); border-top: 1px solid rgba(255,255,255,0.1);
        }
        .prompt { color: var(--cyan); font-weight: bold; }
        .cmd-input {
            background: transparent; border: none; outline: none;
            color: #fff; font-family: var(--font-data); font-size: 1rem; width: 100%;
        }

        /* Petit utilitaire pour cacher des sections si n√©cessaire via JS */
        .hidden { display: none !important; }
    </style>
</head>

<body>

<div class="bg-grid"></div>
<div class="scanlines"></div>
<div class="vignette"></div>

<div class="app-container">

    <header class="header">
        <div class="brand">
            <div class="logo-glitch">SAS // SYSTEM</div>
        </div>
        <div class="header-stats">
            <div><span class="ping-dot"></span>CONN: SECURE</div>
            <div>VER: 4.0.2</div>
            <div style="cursor: pointer; color: var(--amber);" onclick="toggleTerminal()">[ TERMINAL ]</div>
        </div>
    </header>

    <main class="main-content" id="dashboard-view">

        <div class="section-title">ACCR√âDITATION NIVEAU 1 [G√âN√âRAL]</div>
        <div class="card-grid">

            <a href="#" class="nav-card border-cyan" onclick="accessModule('database.html', 1); return false;">
                <div class="card-icon">üë•</div>
                <div class="card-info">
                    <div class="card-title">BASE AGENTS</div>
                    <div class="card-status">
                        <span class="status-light"></span> SYSTEM ONLINE
                    </div>
                </div>
            </a>

            <a href="#" class="nav-card border-cyan" onclick="accessModule('reglement.html', 1); return false;">
                <div class="card-icon">üìú</div>
                <div class="card-info">
                    <div class="card-title">R√àGLEMENT</div>
                    <div class="card-status">
                        <span class="status-light"></span> READ ONLY
                    </div>
                </div>
            </a>

            <a href="#" class="nav-card border-cyan" onclick="accessModule('map.html', 1); return false;">
                <div class="card-icon">üó∫Ô∏è</div>
                <div class="card-info">
                    <div class="card-title">CARTOGRAPHIE</div>
                    <div class="card-status">
                        <span class="status-light"></span> LIVE FEED
                    </div>
                </div>
            </a>

            <a href="#" class="nav-card border-cyan" onclick="accessModule('report.html', 1); return false;">
                <div class="card-icon">üìù</div>
                <div class="card-info">
                    <div class="card-title">RAPPORTS</div>
                    <div class="card-status">
                        <span class="status-light"></span> AUTO-GEN
                    </div>
                </div>
            </a>
        </div>

        <div class="section-title">ACCR√âDITATION NIVEAU 2 [CONFIDENTIEL]</div>
        <div class="card-grid">

            <a href="#" class="nav-card border-amber" onclick="accessModule('investigation.html', 2); return false;">
                <div class="card-icon">üîç</div>
                <div class="card-info">
                    <div class="card-title">INVESTIGATION</div>
                    <div class="card-status">
                        <span class="status-light" style="color:var(--amber)"></span> RESTRICTED
                    </div>
                </div>
            </a>

            <a href="#" class="nav-card border-amber" onclick="return false;"> <div class="card-icon">üéØ</div>
                <div class="card-info">
                    <div class="card-title">VIP TARGETS</div>
                    <div class="card-status">
                        <span class="status-light" style="color:var(--amber)"></span> PRIORITY
                    </div>
                </div>
            </a>

            <a href="#" class="nav-card border-amber" onclick="accessModule('logistics.html', 1); return false;">
                <div class="card-icon">üì¶</div>
                <div class="card-info">
                    <div class="card-title">LOGISTIQUE</div>
                    <div class="card-status">
                        <span class="status-light"></span> STOCK MGMT
                    </div>
                </div>
            </a>

            <a href="#" class="nav-card border-amber" onclick="accessModule('missions.html', 1); return false;">
                <div class="card-icon">üöÄ</div>
                <div class="card-info">
                    <div class="card-title">MISSIONS</div>
                    <div class="card-status">
                        <span class="status-light"></span> PLANNING
                    </div>
                </div>
            </a>
        </div>

        <div class="section-title">ACCR√âDITATION NIVEAU 10 [√âTAT-MAJOR]</div>
        <div class="card-grid">

            <a href="#" class="nav-card border-red" onclick="accessModule('admin.html', 10); return false;">
                <div class="card-icon" style="color: var(--red);">‚öñÔ∏è</div>
                <div class="card-info">
                    <div class="card-title">ADMINISTRATION</div>
                    <div class="card-status">
                        <span class="status-light" style="color:var(--red)"></span> CLASSIFIED
                    </div>
                </div>
            </a>

            <a href="#" class="nav-card border-red" onclick="accessModule('medical.html', 3); return false;">
                <div class="card-icon" style="color: var(--red);">‚öïÔ∏è</div>
                <div class="card-info">
                    <div class="card-title">INFIRMERIE</div>
                    <div class="card-status">
                        <span class="status-light" style="color:var(--red)"></span> BIO-HAZARD
                    </div>
                </div>
            </a>
        </div>

        <div id="profile-view" class="hidden"></div>
    </main>

    <aside class="sidebar">
        <div class="profile-block">
            <div class="avatar-frame">
                <img src="https://ui-avatars.com/api/?name=User&background=000&color=00F3FF&size=128" alt="Agent Avatar">
            </div>
            <div class="profile-name">AGENT.UNK</div>
            <div class="profile-clearance">CLEARANCE: PENDING</div>
        </div>

        <ul class="side-nav">
            <li><a href="#" onclick="alert('Module Settings coming soon')">SETTINGS</a></li>
            <li><a href="#" onclick="alert('Network logs coming soon')">NET.LOGS</a></li>
            <li><a href="#" onclick="alert('Communication link offline')">COMMS</a></li>
            <li><a href="#" class="logout" onclick="alert('Disconnection sequence...')">LOGOUT</a></li>
        </ul>
    </aside>

</div> <div id="terminal-console" class="terminal-console">
    <div id="terminal-history" class="terminal-history">
        <div style="color: var(--cyan)">SAS Mainframe [Version 4.0.2]</div>
        <div style="color: #666">(c) SAS 2025. All rights reserved.</div>
        <br>
        <div>System ready. Type '/help' for a list of commands.</div>
    </div>
    <div class="terminal-input-area">
        <span class="prompt">root@sas:~#</span>
        <input type="text" id="cmd-input" class="cmd-input" placeholder="Enter command..." autocomplete="off">
    </div>
</div>

<script src="js/script.js"></script>
<script>
    // Vos fonctions m√©caniques conserv√©es
    function accessModule(url, requiredLevel) {
        const currentLevel = parseInt(localStorage.getItem('userSecurityLevel') || 0);

        // Note: Pour tester, vous pouvez d√©commenter la ligne suivante pour forcer le niveau
        // const currentLevel = 10;

        if (currentLevel >= requiredLevel) {
            window.location.href = url;
        } else {
            alert("‚õî ACC√àS REFUS√â : ACCR√âDITATION INSUFFISANTE");
        }
    }

    function toggleTerminal() {
        const term = document.getElementById('terminal-console');
        const input = document.getElementById('cmd-input');
        const history = document.getElementById('terminal-history');

        term.classList.toggle('open');

        if(term.classList.contains('open')) {
            setTimeout(() => input.focus(), 100);
            if(history) history.scrollTop = history.scrollHeight;
        }
    }

    // Gestion basique de l'input terminal pour l'exemple
    document.getElementById('cmd-input').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            const history = document.getElementById('terminal-history');
            const val = this.value;
            const newLine = document.createElement('div');

            newLine.innerHTML = `<span style="color:var(--cyan)">root@sas:~#</span> ${val}`;
            history.appendChild(newLine);

            // R√©ponse simple fake
            const response = document.createElement('div');
            response.style.color = "#ccc";
            response.style.marginBottom = "10px";
            if(val === '/help') {
                response.innerHTML = "Available commands: /help, /clear, /login, /status";
            } else if (val === '/clear') {
                history.innerHTML = '';
                response.innerHTML = '';
            } else {
                response.innerHTML = `Command '${val}' not found.`;
            }

            if(response.innerHTML !== '') history.appendChild(response);

            this.value = '';
            history.scrollTop = history.scrollHeight;
        }
    });
</script>
</body>
</html>